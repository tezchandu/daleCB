//Generated by wsdl2apex
//07.15.2021	Sophia Murphy (Demand Chain)
//				Updated to set timeout_x to 60seconds
//11.02.2023	Sophia Murphy (Demand Chain)
//				Removed email to myself

public class DCTLeadService {
    public class AddUpdateLeadResponse_element {
        
        //system.debug('%%%%%%%%%% Calling AddUpdateLeadResponse_element');
        public String AddUpdateLeadResult;
        private String[] AddUpdateLeadResult_type_info = new String[]{'AddUpdateLeadResult','https://sflead.dctclientbuilder.com',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'https://sflead.dctclientbuilder.com','true','false'};
        private String[] field_order_type_info = new String[]{'AddUpdateLeadResult'};
    }
    public class AddUpdateLead_element {
        public String UserName;
        public String Password;
        public String inXML;
        private String[] UserName_type_info = new String[]{'UserName','https://sflead.dctclientbuilder.com',null,'0','1','false'};
        private String[] Password_type_info = new String[]{'Password','https://sflead.dctclientbuilder.com',null,'0','1','false'};
        private String[] inXML_type_info = new String[]{'inXML','https://sflead.dctclientbuilder.com',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'https://sflead.dctclientbuilder.com','true','false'};
        private String[] field_order_type_info = new String[]{'UserName','Password','inXML'};
    }
    public class Service1Soap {
        public String endpoint_x = Org_Settings__c.getOrgDefaults().Lead_Service_Endpoint_URL__c;
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x = 60000;
        private String[] ns_map_type_info = new String[]{'https://sflead.dctclientbuilder.com', 'DCTLeadService'};
        public String AddUpdateLead(String UserName,String Password,String inXML) {

            String emlMsg = '';
            emlMsg += 'INCOMING XML: --' + inXML + '--';

            DCTLeadService.AddUpdateLead_element request_x = new DCTLeadService.AddUpdateLead_element();
            DCTLeadService.AddUpdateLeadResponse_element response_x;
            request_x.UserName = UserName;
            request_x.Password = Password;
            request_x.inXML = inXML;
            Map<String, DCTLeadService.AddUpdateLeadResponse_element> response_map_x = new Map<String, DCTLeadService.AddUpdateLeadResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
              this,
              request_x,
              response_map_x,
              new String[]{endpoint_x,
              'https://sflead.dctclientbuilder.com/AddUpdateLead',
              'https://sflead.dctclientbuilder.com',
              'AddUpdateLead',
              'https://sflead.dctclientbuilder.com',
              'AddUpdateLeadResponse',
              'DCTLeadService.AddUpdateLeadResponse_element'}
            );
            response_x = response_map_x.get('response_x');

            emlMsg += 'OUTGOING XML: --' + response_x + '--';

            //Just for temporary debugging... the full XML response is sent to Sophia
            /**Messaging.SingleEmailMessage mail = new Messaging.SingleEmailMessage();
            String[] toAddresses = new String[] {'sophiam@demandchain.com'};
            mail.setToAddresses(toAddresses);
            mail.setReplyTo('sophiam@demandchain.com');  
            mail.setSenderDisplayName('DCT ClientBuilder XML 2');
            mail.setSubject('DCT ClientBuilder XML 2');
            mail.setPlainTextBody(emlMsg);
            Messaging.sendEmail(new Messaging.SingleEmailMessage[] { mail });*/

            return response_x.AddUpdateLeadResult;
        }
    }
}